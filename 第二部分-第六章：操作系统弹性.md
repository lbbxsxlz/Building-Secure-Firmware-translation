## 第六章

# 操作系统弹性

在个人电脑或服务器中，当主机固件完成初始启动时，它会将控制权转交给主机操作系统（OS）加载器。然后，主机操作系统加载器将控制权转移到最终操作系统（OS）。操作系统可能由制造商、企业信息技术（IT）部门或最终用户安装。典型的操作系统是Windows或Linux。对于移动设备，可能还有其他类型的通用操作系统，如Chromium、Android或iOS。它们由平台制造商创建或定制，作为整个移动设备解决方案的一部分。在嵌入式系统或微控制器中，操作系统与固件紧密结合，甚至是固件的一部分。其中一些解决方案包括实时操作系统（RTOS），例如FreeRTOS、RT-Thread、Contiki OS、mbed OS、ThreadX、uC/OS、LiteOS、TinyOS等。

由于操作系统是提供真正服务的环境，操作系统是攻击的主要目标。如果个人电脑中的Windows或Linux操作系统实例受到攻击，最终用户可能需要重新安装新的操作系统。但是，如果手机中的Android或iOS实例受到攻击，用户又如何安装新的呢？更不用说运行在嵌入式系统中的RTOS了，最终用户根本不知道它的存在。从整个解决方案的角度来看，"弹性"的概念应从固件扩展到操作系统。

与固件弹性类似，操作系统的弹性也包括三个部分：保护、检测和恢复。由于本书聚焦于固件，我们将不介绍操作系统弹性的所有方面，而重点关注与固件相关的部分。

## 保护

### 自动更新